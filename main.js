(()=>{"use strict";var e=function(e,t,r){var o=e.querySelector(".".concat(t.id,"-error"));o.classList.remove(r.errorClass),o.textContent=""},t=function(e,t){var r=e.querySelector(t.submitButtonSelector);!function(e,t){return Array.from(e.querySelectorAll(t.inputSelector)).some((function(e){return!e.validity.valid}))}(e,t)?(r.disabled=!1,r.classList.remove(t.inactiveButtonClass)):(r.disabled=!0,r.classList.add(t.inactiveButtonClass))};function r(t,r){var o=t.querySelector(r.submitButtonSelector);Array.from(t.querySelectorAll(r.inputSelector)).forEach((function(o){e(t,o,r)})),o.disabled=!0,o.classList.add(r.inactiveButtonClass)}function o(e,t,r,o){var n=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=n.querySelector(".card__image"),i=n.querySelector(".card__title");return n.querySelector(".card__delete-button").addEventListener("click",t),c.addEventListener("click",(function(){r(e)})),n.querySelector(".card__like-button").addEventListener("click",o),c.src=e.link,c.alt=e.name,i.textContent=e.name,n}function n(e){e.target.closest(".places__item").remove()}function c(e){e.target.classList.toggle("card__like-button_is-active")}function i(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",u)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",u)}function u(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function l(e){e.addEventListener("click",(function(t){t.target===e&&a(e)}))}var p=document.querySelector(".places__list"),s=document.querySelector(".page"),d=document.querySelectorAll(".popup"),_=s.querySelector(".profile__edit-button"),f=s.querySelector(".popup_type_edit"),y=f.querySelector(".popup__form"),m=y.querySelector(".popup__input_type_name"),v=y.querySelector(".popup__input_type_description"),S=s.querySelector(".profile__add-button"),q=s.querySelector(".popup_type_new-card"),k=q.querySelector(".popup__form"),b=q.querySelector(".popup__form"),h=b.querySelector(".popup__input_type_card-name"),L=b.querySelector(".popup__input_type_url"),E=s.querySelector(".popup_type_image"),g=E.querySelector(".popup__image"),C=E.querySelector(".popup__caption"),x={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"button_inactive",inputErrorClass:".form-input-error",errorClass:"form__input-error_active"};function A(e){g.src=e.link,g.alt=e.name,C.textContent=e.name,i(E)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=o(e,n,A,c);p.append(t)})),document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")})),_.addEventListener("click",(function(){m.value=s.querySelector(".profile__title").textContent,v.value=s.querySelector(".profile__description").textContent,i(f),r(y,x)})),y.addEventListener("submit",(function(e){e.preventDefault(),s.querySelector(".profile__title").textContent=m.value,s.querySelector(".profile__description").textContent=v.value,a(f)})),d.forEach((function(e){e.querySelector(".popup__close").addEventListener("click",(function(){a(e)}))})),l(f),S.addEventListener("click",(function(){h.value="",L.value="",i(q),r(k,x)})),l(q),l(E),k.addEventListener("submit",(function(e){e.preventDefault();var t=o({name:h.value,link:L.value},n,A,c);p.prepend(t),k.reset(),a(q)})),function(r){Array.from(document.querySelectorAll(r.formSelector)).forEach((function(o){!function(r,o){var n=Array.from(r.querySelectorAll(o.inputSelector));t(r,o),n.forEach((function(n){n.addEventListener("input",(function(){!function(t,r,o){r.validity.patternMismatch?r.setCustomValidity(r.dataset.errorMessage):r.setCustomValidity(""),r.validity.valid?e(t,r,o):function(e,t,r){var o=e.querySelector(".".concat(t.id,"-error"));o.classList.add(r.errorClass),o.textContent=t.validationMessage}(t,r,o)}(r,n,o),t(r,o)}))}))}(o,r)}))}(x),fetch("https://nomoreparties.co/v1/:wff-cohort-24/users/me",{headers:{authorization:"0f0175eb-54aa-4ff1-94e6-d4abdbbdf33b"}}).then((function(e){return console.log(e)}))})();